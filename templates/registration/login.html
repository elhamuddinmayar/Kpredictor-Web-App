{% load static %} {% block title %}{% endblock %} {% block content %}
<link
  rel="stylesheet"
  href="{% static 'plugins/bootstrap/css/bootstrap.min.css' %}"
/>
<link
  rel="stylesheet"
  href="{% static 'plugins/sweetalert2-theme-bootstrap-4/bootstrap-4.min.css'%}"
/>
<style>
  body {
    font-family: "Roboto", sans-serif;
    background-color: rgb(255, 255, 255);
    height: 100vh;
  }
  .form-container {
    max-width: 420px;
    padding: 2.5rem 2rem 3rem 2rem;
    background: #fff;
    border-radius: 0.75rem;
    box-shadow: 0 0.125rem 0.25rem rgb(255 165 0 / 0.15);
    border: none;
  }
  .form-control:focus {
    border-color: #ff7f00;
    box-shadow: 0 0 0 0.25rem rgba(255, 127, 0, 0.25);
    outline: none;
  }
  .btn-orange {
    background-color: #ff7f00;
    border-color: #ff7f00;
    color: #fff;
    font-weight: 600;
    transition: background-color 0.3s ease, border-color 0.3s ease;
  }
  .btn-orange:hover,
  .btn-orange:focus {
    background-color: #e67300;
    border-color: #e67300;
    color: #fff;
  }
  .link-orange {
    color: #ff7f00;
    font-weight: 600;
    text-decoration: none;
    transition: color 0.3s ease;
  }
  .link-orange:hover,
  .link-orange:focus {
    color: #e67300;
    text-decoration: underline;
  }
  .input-group-text {
    background-color: rgb(255, 255, 255);
    border-color: #ffa500;
    color: #ff7f00;
    font-weight: 600;
  }
  .login-wrapper {
    max-width: 900px;
    width: 100%;
    border-radius: 0.75rem;
    overflow: hidden;
    box-shadow: 0 0.125rem 0.25rem rgb(255 165 0 / 0.15);
    background: rgb(255, 255, 255);
    display: flex;
    flex-wrap: wrap;
  }
  .login-image {
    flex: 1 1 50%;
    min-height: 400px;
    overflow: hidden;
    display: block;
  }
  .login-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }
  .login-form {
    flex: 1 1 50%;
    padding: 2.5rem 2rem 3rem 2rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  @media (max-width: 767.98px) {
    .login-wrapper {
      flex-direction: column;
      max-width: 100%;
      box-shadow: none;
      border-radius: 0;
    }
    .login-image {
      min-height: 200px;
      flex: none;
      display: block !important;
    }
    .login-form {
      padding: 2rem 1.5rem 2.5rem 1.5rem;
    }
  }
  /* Floating label styles */
  .form-floating-group {
    position: relative;
    margin-bottom: 1.5rem;
  }
  .form-floating-group input {
    width: 100%;
    padding: 1.25rem 0.75rem 0.375rem 2.5rem;
    border: 1.5px solid #ffa500;
    border-radius: 0.375rem;
    background-color: #fff;
    font-size: 1rem;
    transition: border-color 0.3s ease;
  }
  .form-floating-group input:focus {
    border-color: #ff7f00;
    box-shadow: 0 0 0 0.25rem rgba(255, 127, 0, 0.25);
    outline: none;
  }
  .form-floating-group .input-icon {
    position: absolute;
    top: 50%;
    left: 0.75rem;
    transform: translateY(-50%);
    color: #ff7f00;
    font-weight: 600;
    pointer-events: none;
    font-size: 1.1rem;
  }
  .form-floating-group label {
    position: absolute;
    top: 50%;
    left: 2.5rem;
    transform: translateY(-50%);
    color: #999;
    font-weight: 500;
    font-size: 1rem;
    pointer-events: none;
    transition: all 0.2s ease-in-out;
    background-color: #fff;
    padding: 0 0.25rem;
  }
  .form-floating-group input:focus + label,
  .form-floating-group input:not(:placeholder-shown) + label {
    top: 0.25rem;
    left: 1.75rem;
    font-size: 0.75rem;
    color: #ff7f00;
    font-weight: 600;
    transform: none;
  }
  .invalid-feedback {
    margin-left: 2.5rem;
  }
</style>
<body sidebar-mini>
  <div class="d-flex align-items-center justify-content-center vh-100 px-3">
    <div class="login-wrapper">
      <div class="login-imaged mt-5">
        <img
          alt="afghan man with book"
          height="500"
          src="{% static 'pictures/cover1.jpg'%}"
          width="400"
        />
      </div>
      <div class="login-form">
        <div class="text-center mb-4">
          <img
            alt="Company logo, orange circle with white letter L"
            class="mb-3"
            height="150"
            src="{% static 'pictures/logo.png'%}"
            width="150"
          />
          <h1 class="h3 fw-bold text-orange">Sign in to your account</h1>
          <p class="text-muted">
            Enter your credentials to access Kpredictor facalities
          </p>
        </div>
        <form method="post">
          {% csrf_token %}
          <div class="form-floating-group">
            <span class="input-icon"><i class="fas fa-envelope"></i></span>
            <input
              aria-describedby="email-addon"
              autocomplete="email"
              class="form-control"
              id="inputEmail"
              inputmode="text"
              placeholder="Email address & username"
              required
              spellcheck="false"
              type="text"
              name="identifier"
            />
            <label for="inputEmail">Email address or username</label>
            <div class="invalid-feedback"></div>
          </div>
          <div class="form-floating-group">
            <span class="input-icon"><i class="fas fa-lock"></i></span>
            <input
              aria-describedby="password-addon"
              autocapitalize="none"
              autocomplete="current-password"
              autocorrect="off"
              class="form-control"
              id="inputPassword"
              placeholder="Password"
              required
              spellcheck="false"
              type="password"
              name="password"
            />
            <label for="inputPassword">Password</label>
            <div class="invalid-feedback"></div>
          </div>
          <button
            aria-label="Sign in to your account"
            class="btn btn-orange w-100 fw-semibold swalDefaultError"
            type="submit"
          >
            Sign In
          </button>
        </form>
        <div class="mb-3 d-flex justify-content-between align-items-center">
          <a class="link-orange" href="{% url 'password_reset' %}">
            Forgot password?
          </a>
          <a class="link-orange fw-semibold" href="{% url 'register' %}">
            Create account
          </a>
        </div>
      </div>
    </div>
  </div>

  <script src="{% static 'plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'plugins/sweetalert2/sweetalert2.min.js' %}"></script>
  <script src="{% static 'plugins/jquery/jquery.min.js' %}"></script>
  <script>
    (() => {
      "use strict";
      const forms = document.querySelectorAll("form");
      Array.from(forms).forEach((form) => {
        form.addEventListener(
          "submit",
          (event) => {
            if (!form.checkValidity()) {
              event.preventDefault();
              event.stopPropagation();
            }
            form.classList.add("was-validated");
          },
          false
        );
      });
    })();
  </script>

  <script>
    $(function () {
      var Toast = Swal.mixin({
        toast: true,
        position: "top",
        showConfirmButton: false,
        timer: 3000,
      });

      {% if messages %}
        {% for message in messages %}
          Toast.fire({
            icon: "{% if 'error' in message.tags %}error{% elif 'warning' in message.tags %}warning{% elif 'info' in message.tags %}info{% else %}success{% endif %}",
            title: "{{ message|escapejs }}",
          });
        {% endfor %}
      {% endif %}

      $(".swalDefaultError").click(function () {
        // Your click logic here if needed
      });
    });
  </script>
</body>
{% endblock %}
